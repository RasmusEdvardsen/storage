(function(e){function t(t){for(var r,i,c=t[0],u=t[1],s=t[2],p=0,f=[];p<c.length;p++)i=c[p],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(f.length)f.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var u=n[c];0!==a[u]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var l=u;o.push([1,"chunk-vendors"]),n()})({0:function(e,t){},"034f":function(e,t,n){"use strict";var r=n("85ec"),a=n.n(r);a.a},1:function(e,t,n){e.exports=n("cd49")},"19ec":function(e,t,n){},2163:function(e,t,n){"use strict";var r=n("3b83"),a=n.n(r);a.a},2808:function(e,t,n){"use strict";var r=n("a01b"),a=n.n(r);a.a},"2c42":function(e,t,n){"use strict";var r=n("b8cf"),a=n.n(r);a.a},"3b83":function(e,t,n){},6484:function(e,t,n){"use strict";var r=n("e224"),a=n.n(r);a.a},"85ec":function(e,t,n){},a01b:function(e,t,n){},a26f:function(e,t,n){},b8cf:function(e,t,n){},c432:function(e,t,n){"use strict";var r=n("a26f"),a=n.n(r);a.a},cd49:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("home-storage")],1)},o=[],i=(n("6b54"),n("2397"),n("d225")),c=n("4e2b"),u=n("308d"),s=n("6bb5"),l=n("9ab4"),p=n("60a3"),f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"home-storage-wrapper"}},[e.isLoggedIn()?n("div",{staticClass:"logout",on:{click:e.logout}},[e._v("logout")]):e._e(),n("div",{attrs:{id:"home-storage"}},[n("modal",{staticClass:"login",attrs:{toggle:e.toggle,blocking:!0},model:{value:e.toggle,callback:function(t){e.toggle=t},expression:"toggle"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("button",{on:{click:e.login}},[e._v("Login with microsoft account")])])]),n("ul",{attrs:{id:"trees-wrapper"}},[n("tree-item",{staticClass:"item",attrs:{item:e.tree}})],1),n("div",{staticClass:"divider mt-10 mb-10"}),n("div",{attrs:{id:"preview"}},[n("preview-wrapper")],1),n("upload-files-progress",{ref:"ufp"})],1)])},h=[],d=(n("96cf"),n("3b8d")),v=n("b0b4"),m=n("4bb5"),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("li",["dummy.txt"!==e.item.name?n("div",{staticClass:"item mb-5",on:{click:function(t){return e.itemClick(e.item)},contextmenu:function(t){t.preventDefault(),e.toggle=!0}}},[n("div",{class:[e.icon,"item-icon","mr-10","ml-10"]}),e.showNewFileInput?n("input",{directives:[{name:"model",rawName:"v-model",value:e.newFileName,expression:"newFileName"}],ref:"fileNameInput",attrs:{type:"text",placeholder:"New file name"},domProps:{value:e.newFileName},on:{blur:function(t){e.showNewFileInput=!1},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.newFileNameEntered()},input:function(t){t.target.composing||(e.newFileName=t.target.value)}}}):n("div",{class:["item-name","mr-10","ml-10",e.isActive]},[e._v(e._s(e.item.name))]),n("div",{class:e.toggle?"far fa-minus-square":"far fa-plus-square",on:{click:function(t){t.stopPropagation(),e.toggle=!e.toggle}}}),n("dropdown",{attrs:{toggle:e.toggle},model:{value:e.toggle,callback:function(t){e.toggle=t},expression:"toggle"}},[e.isFolder?n("div",{attrs:{slot:"content"},slot:"content"},[n("div",{staticClass:"option",on:{click:function(t){return t.stopPropagation(),e.newFolderOption(t)}}},[e._v("New folder")]),n("div",{staticClass:"option",on:{click:function(e){e.stopPropagation()}}},[n("div",{staticClass:"file-click"},[e._v("New file(s)")]),n("input",{attrs:{type:"file",id:"new-file",multiple:""},on:{change:function(t){return e.newFilesSelected(t)}}})])]):n("div",{attrs:{slot:"content"},slot:"content"},[n("div",{staticClass:"option",on:{click:function(t){return t.stopPropagation(),e.rename(e.item)}}},[e._v("Rename")]),n("div",{staticClass:"option",on:{click:function(t){return t.stopPropagation(),e.del(e.item)}}},[e._v("Delete")])])])],1):e._e(),e.isFolder?n("ul",{directives:[{name:"show",rawName:"v-show",value:e.isOpen,expression:"isOpen"}]},e._l(e.item.children,(function(e,t){return n("tree-item",{key:t,staticClass:"item",attrs:{item:e}})})),1):e._e(),e.showFolderInput?n("input",{directives:[{name:"model",rawName:"v-model",value:e.folderName,expression:"folderName"}],ref:"folderNameInput",attrs:{type:"text",placeholder:"Folder name"},domProps:{value:e.folderName},on:{blur:function(t){e.showFolderInput=!1},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.newFolderEntered()},input:function(t){t.target.composing||(e.folderName=t.target.value)}}}):e._e()])},g=[],y=(n("ac6a"),n("ffc1"),n("7514"),n("28a5"),n("7f7f"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dropdown"},[n("div",{class:["dropdown-content",e.t?"expanded":""]},[e._t("content")],2),n("div",{class:["overlay",e.t?"expanded":""],on:{click:function(t){return t.stopPropagation(),e.$emit("input",!e.t)}}})])}),w=[];function O(e){return function(){var t,n=Object(s["a"])(e);if(j()){var r=Object(s["a"])(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Object(u["a"])(this,t)}}function j(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var x=function(e){Object(c["a"])(n,e);var t=O(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.t=!1,e}return Object(v["a"])(n,[{key:"onToggleChanged",value:function(e){this.t=e}}]),n}(r["default"]);Object(l["c"])([Object(p["b"])({type:Boolean,default:!1})],x.prototype,"toggle",void 0),Object(l["c"])([Object(p["c"])("toggle")],x.prototype,"onToggleChanged",null),x=Object(l["c"])([p["a"]],x);var k,R=x,C=R,F=(n("2c42"),n("2877")),B=Object(F["a"])(C,y,w,!1,null,"091bcb12",null),N=B.exports,_=new r["default"];function S(e){return function(){var t,n=Object(s["a"])(e);if(P()){var r=Object(s["a"])(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Object(u["a"])(this,t)}}function P(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(function(e){e["NEWFILES"]="newFiles"})(k||(k={}));var A="homeStorage",U=function(e){Object(c["a"])(n,e);var t=S(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.isOpen=!1,e.toggle=!1,e.showFolderInput=!1,e.showNewFileInput=!1,e.folderName="",e.newFileName="",e}return Object(v["a"])(n,[{key:"itemClick",value:function(e){this.isFolder?this.isOpen=!this.isOpen:e.fullPath&&this.setActiveBlob(e.fullPath)}},{key:"rename",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.toggle=!1,this.showNewFileInput=!0,this.focusOnInput("fileNameInput");case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"del",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.toggle=!1,!confirm("Really delete ".concat(t.name,"?"))){e.next=6;break}return e.next=4,this.deleteFile({containerName:"homestorage",name:t.fullPath});case 4:return e.next=6,this.getBlobsByContainer("homestorage");case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"newFileNameEntered",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,o,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.showNewFileInput=!1,!(this.newFileName.length<1)||this.item.fullPath){e.next=3;break}return e.abrupt("return");case 3:return t=this.item.fullPath,n=t.split("/").slice(0,-1).join("/"),r=this.item.name.split("."),a=r[r.length-1],o=n.length>0?n+"/"+this.newFileName+"."+a:this.newFileName+"."+a,i=this.item.fullPath||this.item.name,c=o,e.next=12,this.renameFile({containerName:"homestorage",oldName:i,newName:c});case 12:return e.next=14,this.getBlobsByContainer("homestorage");case 14:this.showNewFileInput=!1,this.newFileName="";case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"newFolderOption",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.closeContextMenuAndOpenFolder(),this.showFolderInput=!0,this.focusOnInput("folderNameInput");case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"newFolderEntered",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.item.fullPath,!(this.folderName.length<1)||this.item.fullPath){e.next=3;break}return e.abrupt("return");case 3:return n=t.length>0?t+"/"+this.folderName:this.folderName,e.next=6,this.createFolder({containerName:"homestorage",folderName:n});case 6:return e.next=8,this.getBlobsByContainer("homestorage");case 8:this.showFolderInput=!1,this.folderName="";case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"newFilesSelected",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.closeContextMenuAndOpenFolder(),n=t.target.files,n&&!(n.length<1)){e.next=4;break}return e.abrupt("return");case 4:if(this.item.fullPath){e.next=6;break}return e.abrupt("return");case 6:return r={fileList:n,folderPath:this.item.fullPath},_.$emit(k.NEWFILES,r),e.abrupt("return");case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"focusOnInput",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$nextTick();case 2:if(e.prev=2,n=Object.entries(this.$refs).find((function(e){return e[0]===t})),n){e.next=6;break}return e.abrupt("return");case 6:r=n[1],r.focus(),e.next=13;break;case 10:return e.prev=10,e.t0=e["catch"](2),e.abrupt("return");case 13:case"end":return e.stop()}}),e,this,[[2,10]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"closeContextMenuAndOpenFolder",value:function(){this.toggle=!1,this.isOpen=!0}},{key:"isFolder",get:function(){return this.item.children&&this.item.children.length}},{key:"icon",get:function(){var e="far "+(this.isFolder?this.isOpen?"fa-folder-open":"fa-folder":" fa-file");return e}},{key:"isActive",get:function(){return this.activeBlob&&this.activeBlob.name===this.item.fullPath?"active":""}}]),n}(r["default"]);Object(l["c"])([Object(p["b"])()],U.prototype,"item",void 0),Object(l["c"])([Object(m["a"])("setActiveBlob",{namespace:A})],U.prototype,"setActiveBlob",void 0),Object(l["c"])([Object(m["a"])("getBlobsByContainer",{namespace:A})],U.prototype,"getBlobsByContainer",void 0),Object(l["c"])([Object(m["a"])("createFolder",{namespace:A})],U.prototype,"createFolder",void 0),Object(l["c"])([Object(m["a"])("renameFile",{namespace:A})],U.prototype,"renameFile",void 0),Object(l["c"])([Object(m["a"])("deleteFile",{namespace:A})],U.prototype,"deleteFile",void 0),Object(l["c"])([Object(m["b"])("activeBlob",{namespace:A})],U.prototype,"activeBlob",void 0),U=Object(l["c"])([Object(p["a"])({name:"tree-item",components:{dropdown:N}})],U);var I=U,L=I,T=(n("2808"),Object(F["a"])(L,b,g,!1,null,"a8656e16",null)),E=T.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("modal",{staticClass:"upload-files-progress",attrs:{toggle:e.toggle,blocking:!0},model:{value:e.toggle,callback:function(t){e.toggle=t},expression:"toggle"}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("div",{staticClass:"num-file"},[e._v("Number of files to upload: "+e._s(e.numFiles))]),n("div",{staticClass:"num-files-uploaded"},[e._v("Number of files uploaded: "+e._s(e.numFilesUploaded))]),n("div",{staticClass:"current-file"},[e._v("Name of current file: "+e._s(e.currentFile.name))]),n("div",{staticClass:"current-file-progress"},[e._v("Upload status: "+e._s(e.currentFileProgress)+"%")]),n("button",{staticClass:"btn",attrs:{disabled:e.isUploading},on:{click:e.clearAndClose}},[e._v("Close")])])])},$=[],M=n("7618"),z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"modal"},[n("div",{class:["modal-content",e.t?"expanded":""]},[e._t("content")],2),n("div",{class:["overlay",e.t?"expanded":""],on:{click:function(t){return t.stopPropagation(),e.overlayClicked()}}})])},H=[];function q(e){return function(){var t,n=Object(s["a"])(e);if(J()){var r=Object(s["a"])(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Object(u["a"])(this,t)}}function J(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var W=function(e){Object(c["a"])(n,e);var t=q(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.t=!1,e}return Object(v["a"])(n,[{key:"onToggleChanged",value:function(e){this.t=e}},{key:"overlayClicked",value:function(){this.blocking||this.$emit("input",!this.t)}}]),n}(r["default"]);Object(l["c"])([Object(p["b"])({type:Boolean,default:!1})],W.prototype,"toggle",void 0),Object(l["c"])([Object(p["b"])({type:Boolean,default:!1})],W.prototype,"blocking",void 0),Object(l["c"])([Object(p["c"])("toggle")],W.prototype,"onToggleChanged",null),W=Object(l["c"])([p["a"]],W);var Y=W,G=Y,K=(n("c432"),Object(F["a"])(G,z,H,!1,null,"74a6631a",null)),Q=K.exports;function V(e){return function(){var t,n=Object(s["a"])(e);if(X()){var r=Object(s["a"])(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Object(u["a"])(this,t)}}function X(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Z="homeStorage",ee=function(e){Object(c["a"])(n,e);var t=V(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.toggle=!1,e.isUploading=!1,e.numFiles=0,e.numFilesUploaded=0,e.currentFile=new File([],""),e.currentFileProgress=0,e}return Object(v["a"])(n,[{key:"clearAndClose",value:function(){this.toggle=!1,this.numFiles=0,this.numFilesUploaded=0,this.currentFile=new File([],"")}},{key:"openAndShowProgress",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,o,i,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.length,this.toggle=!0,this.numFiles=r,this.isUploading=!0,e.prev=2,a=regeneratorRuntime.mark((function e(r){var a,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.item(r),a){e.next=3;break}return e.abrupt("return",{v:void 0});case 3:return o=n.length>0?n+"/"+a.name:a.name,c.currentFile=a,e.next=7,c.uploadFile({containerName:"homestorage",fileName:o,file:a,cb:function(e){c.currentFileProgress=Math.floor(e.loadedBytes/a.size*100)}});case 7:i=e.sent,200!==i&&201!==i||c.numFilesUploaded++;case 9:case"end":return e.stop()}}),e)})),o=0;case 5:if(!(o<t.length)){e.next=13;break}return e.delegateYield(a(o),"t0",7);case 7:if(i=e.t0,"object"!==Object(M["a"])(i)){e.next=10;break}return e.abrupt("return",i.v);case 10:o++,e.next=5;break;case 13:return this.isUploading=!1,e.abrupt("return");case 17:return e.prev=17,e.t1=e["catch"](2),e.abrupt("return");case 20:case"end":return e.stop()}}),e,this,[[2,17]])})));function t(t,n){return e.apply(this,arguments)}return t}()}]),n}(r["default"]);Object(l["c"])([Object(m["a"])("uploadFile",{namespace:Z})],ee.prototype,"uploadFile",void 0),ee=Object(l["c"])([Object(p["a"])({components:{modal:Q}})],ee);var te=ee,ne=te,re=Object(F["a"])(ne,D,$,!1,null,"6e25ae04",null),ae=re.exports,oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.activeBlob&&e.previewUrl.length>0?n("div",{attrs:{id:"preview-wrapper"}},[n("div",{},[e._v(e._s(e.name(e.activeBlob.name)))]),n("div",{staticClass:"file-info"},[n("div",{staticClass:"content-type"},[e._v(e._s(e.activeBlob.properties.contentType))]),n("div",{staticClass:"download",on:{click:function(t){return e.download(e.activeBlob)}}},[e._v("download")])]),e.showPreview?n("div",{staticClass:"preview"},["video"===e.activeBlobFileType?n("video",{attrs:{width:"100%",height:"100%",controls:""}},[n("source",{attrs:{src:e.previewUrl}})]):"image"===e.activeBlobFileType?n("img",{attrs:{id:"viewurl",src:e.previewUrl,alt:""}}):n("div",{staticClass:"empty"})]):e._e()]):n("div",{staticClass:"no-file-selected"},[n("div",{staticClass:"text"},[e._v("no file selected")])])},ie=[],ce=(n("6762"),n("2fdb"),n("0f9a")),ue=n("9ada"),se=n("19be"),le=n("21a6"),pe=n.n(le),fe=n("d772"),he=n("04cd"),de=n("5298"),ve=n("6233"),me={scopes:["https://storage.azure.com/user_impersonation"]},be={auth:{clientId:"f45ee6d4-23dd-4ada-b42a-447352d9dd70",authority:"https://login.microsoftonline.com/0d584642-1f4f-47d2-9ae2-8c67fea8fa12",redirectUri:"https://anarae.azurewebsites.net/"},cache:{cacheLocation:"localStorage",storeAuthStateInCookie:!0}},ge=n("c3d2");function ye(e,t,n){return we.apply(this,arguments)}function we(){return we=Object(d["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,o,i,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Fe();case 2:return a=e.sent,o=ce["a"].fromServiceURL(a,t),i=ue["a"].fromContainerURL(o,n),c=ge["a"].fromBlobURL(i),e.next=8,c.upload(se["a"].none,r,r.length,{blobHTTPHeaders:{blobContentType:"text/plain"}});case 8:return u=e.sent,e.abrupt("return",u._response.status);case 10:case"end":return e.stop()}}),e)}))),we.apply(this,arguments)}function Oe(e){return je.apply(this,arguments)}function je(){return je=Object(d["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=new Date,r=ke(n),ye("log","error/"+r,t);case 3:case"end":return e.stop()}}),e)}))),je.apply(this,arguments)}function xe(e){return e<10?"0"+e:""+e}function ke(e){var t=e.getFullYear().toString()+"_"+xe(e.getMonth())+"_"+xe(e.getDate())+"-"+xe(e.getHours())+":"+xe(e.getMinutes())+":"+xe(e.getSeconds())+"m"+xe(e.getMilliseconds());return t}var Re=function(){function e(){Object(i["a"])(this,e),this.userAgentApplication=new ve["a"](be)}return Object(v["a"])(e,[{key:"init",value:function(){this.userAgentApplication=new ve["a"](be)}},{key:"isLoggedIn",value:function(){return!!this.userAgentApplication.getAccount()}},{key:"account",value:function(){if(this.isLoggedIn())return this.userAgentApplication.getAccount()}},{key:"logout",value:function(){window.localStorage.clear(),window.location.assign("https://login.microsoftonline.com/common/oauth2/logout?post_logout_redirect_uri="+be.auth.redirectUri)}},{key:"loginPopup",value:function(e){var t=this;this.userAgentApplication.loginPopup(me).then((function(n){t.userAgentApplication.acquireTokenSilent(me).then((function(t){e&&e()})).catch((function(e){return Oe(e)}))})).catch((function(e){return Oe(e)}))}},{key:"accessToken",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.userAgentApplication.acquireTokenSilent(me);case 3:return t=e.sent,e.abrupt("return",t.accessToken);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return","");case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()}]),e}(),Ce=new Re;function Fe(){return Be.apply(this,arguments)}function Be(){return Be=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=fe["a"],e.next=3,Ce.accessToken();case 3:return e.t1=e.sent,t=new e.t0(e.t1),n=he["a"].newPipeline(t),e.abrupt("return",new de["a"]("https://storageanarae.blob.core.windows.net",n));case 7:case"end":return e.stop()}}),e)}))),Be.apply(this,arguments)}function Ne(e,t,n,r){return _e.apply(this,arguments)}function _e(){return _e=Object(d["a"])(regeneratorRuntime.mark((function e(t,n,r,a){var o,i,c,u,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Fe();case 2:return o=e.sent,i=ce["a"].fromServiceURL(o,t),c=ue["a"].fromContainerURL(i,n),e.next=7,c.download(se["a"].none,0);case 7:return u=e.sent,e.next=10,u.blobBody;case 10:if(s=e.sent,!s){e.next=17;break}if(!a){e.next=16;break}pe.a.saveAs(s,r),e.next=17;break;case 16:return e.abrupt("return",s);case 17:case"end":return e.stop()}}),e)}))),_e.apply(this,arguments)}function Se(e){var t=e.split("/");return t[t.length-1]}function Pe(e){return function(){var t,n=Object(s["a"])(e);if(Ae()){var r=Object(s["a"])(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Object(u["a"])(this,t)}}function Ae(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Ue="homeStorage",Ie=function(e){Object(c["a"])(n,e);var t=Pe(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.previewUrl="",e.showPreview=!0,e}return Object(v["a"])(n,[{key:"onActiveBlobChanged",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,o,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.previewUrl="",null!==t){e.next=3;break}return e.abrupt("return");case 3:return this.showPreview=!1,e.next=6,this.$nextTick();case 6:return this.showPreview=!0,n="https://storageanarae.blob.core.windows.net/homestorage",r="/"+t.name,a=n+r,e.next=12,Ce.accessToken();case 12:e.t0=e.sent,e.t1="Bearer "+e.t0,e.t2={authorization:e.t1,"x-ms-version":"2019-02-02"},o={headers:e.t2},fetch(a,o).then((function(e){return e.blob()})).then((function(e){i.previewUrl=URL.createObjectURL(e)}));case 17:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"download",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:Ne("homestorage",t.name,this.name(t.name),!0);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"name",value:function(e){return Se(e)}},{key:"activeBlobFileType",get:function(){if(null===this.activeBlob||!this.activeBlob.properties.contentType)return"";var e=this.activeBlob.properties.contentType;return e.includes("image")?"image":e.includes("video")?"video":""}}]),n}(r["default"]);Object(l["c"])([Object(m["b"])("activeBlob",{namespace:Ue})],Ie.prototype,"activeBlob",void 0),Object(l["c"])([Object(p["c"])("activeBlob",{deep:!0})],Ie.prototype,"onActiveBlobChanged",null),Ie=Object(l["c"])([p["a"]],Ie);var Le=Ie,Te=Le,Ee=(n("2163"),Object(F["a"])(Te,oe,ie,!1,null,"5a42c3ad",null)),De=Ee.exports;function $e(e){return function(){var t,n=Object(s["a"])(e);if(Me()){var r=Object(s["a"])(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Object(u["a"])(this,t)}}function Me(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ze="homeStorage",He=function(e){Object(c["a"])(n,e);var t=$e(n);function n(){var e;return Object(i["a"])(this,n),e=t.apply(this,arguments),e.toggle=!1,e}return Object(v["a"])(n,[{key:"mounted",value:function(){Ce.isLoggedIn()?this.loginSuccess():this.toggle=!0}},{key:"login",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Ce.loginPopup(this.loginSuccess);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"logout",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Ce.logout();case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isLoggedIn",value:function(){return Ce.isLoggedIn()}},{key:"loginSuccess",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.toggle=!1,e.next=3,this.getContainers();case 3:return e.next=5,this.getBlobsByContainer("homestorage");case 5:_.$on(k.NEWFILES,this.openUploadFilesProgress);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"openUploadFilesProgress",value:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.$refs.ufp,e.next=3,n.openAndShowProgress(t.fileList,t.folderPath);case 3:return e.next=5,this.getBlobsByContainer("homestorage");case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"name",value:function(e){return Se(e)}}]),n}(r["default"]);Object(l["c"])([Object(m["a"])("getContainers",{namespace:ze})],He.prototype,"getContainers",void 0),Object(l["c"])([Object(m["a"])("getBlobsByContainer",{namespace:ze})],He.prototype,"getBlobsByContainer",void 0),Object(l["c"])([Object(m["b"])("containers",{namespace:ze})],He.prototype,"containers",void 0),Object(l["c"])([Object(m["b"])("blobsByContainerTree",{namespace:ze})],He.prototype,"tree",void 0),Object(l["c"])([Object(m["b"])("blobByName",{namespace:ze})],He.prototype,"blobByName",void 0),He=Object(l["c"])([Object(p["a"])({components:{"tree-item":E,"upload-files-progress":ae,"preview-wrapper":De,modal:Q}})],He);var qe=He,Je=qe,We=(n("e0c2"),n("6484"),Object(F["a"])(Je,f,h,!1,null,"15749d40",null)),Ye=We.exports;function Ge(e){return function(){var t,n=Object(s["a"])(e);if(Ke()){var r=Object(s["a"])(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return Object(u["a"])(this,t)}}function Ke(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var Qe=function(e){Object(c["a"])(n,e);var t=Ge(n);function n(){return Object(i["a"])(this,n),t.apply(this,arguments)}return n}(r["default"]);Qe=Object(l["c"])([Object(p["a"])({components:{"home-storage":Ye}})],Qe);var Ve=Qe,Xe=Ve,Ze=(n("034f"),Object(F["a"])(Xe,a,o,!1,null,null,null)),et=Ze.exports,tt=n("2f62"),nt={containers:function(e){return e.containers},blobsByContainer:function(e){return e.blobsByContainer},blobsByContainerTree:function(e){return e.blobsByContainerTree},blobByName:function(e){return function(t){return e.blobsByContainer.blobs.find((function(e){return e.name===t}))}},activeBlob:function(e){return e.activeBlob}};n("ac4d"),n("8a81"),n("5df3"),n("1c4c");function rt(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=at(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function at(e,t){if(e){if("string"===typeof e)return ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ot(e,t):void 0}}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function it(){return ct.apply(this,arguments)}function ct(){return ct=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,o,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fe();case 3:t=e.sent,n=[],r="";case 6:return e.next=8,t.listContainersSegment(se["a"].none,r);case 8:a=e.sent,r=a.nextMarker,o=rt(a.containerItems);try{for(o.s();!(i=o.n()).done;)c=i.value,n.push(c)}catch(u){o.e(u)}finally{o.f()}case 12:if(r){e.next=6;break}case 13:return e.abrupt("return",n);case 16:return e.prev=16,e.t0=e["catch"](0),e.abrupt("return",[]);case 19:case"end":return e.stop()}}),e,null,[[0,16]])}))),ct.apply(this,arguments)}function ut(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=st(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,o=!0,i=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){i=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(i)throw a}}}}function st(e,t){if(e){if("string"===typeof e)return lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lt(e,t):void 0}}function lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pt(e){return ft.apply(this,arguments)}function ft(){return ft=Object(d["a"])(regeneratorRuntime.mark((function e(t){var n,r,a,o,i,c,u,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],e.prev=1,e.next=4,Fe();case 4:r=e.sent,a=ce["a"].fromServiceURL(r,t),o="";case 7:return e.next=9,a.listBlobFlatSegment(se["a"].none,o);case 9:i=e.sent,o=i.nextMarker,c=ut(i.segment.blobItems);try{for(c.s();!(u=c.n()).done;)s=u.value,n.push(s)}catch(l){c.e(l)}finally{c.f()}case 13:if(o){e.next=7;break}case 14:return e.abrupt("return",n);case 17:return e.prev=17,e.t0=e["catch"](1),e.abrupt("return",n);case 20:case"end":return e.stop()}}),e,null,[[1,17]])}))),ft.apply(this,arguments)}function ht(e,t){return dt.apply(this,arguments)}function dt(){return dt=Object(d["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,o,i,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Fe();case 2:return r=e.sent,a=ce["a"].fromServiceURL(r,t),o=ue["a"].fromContainerURL(a,n+"/dummy.txt"),i=ge["a"].fromBlobURL(o),e.next=8,i.upload(se["a"].none,"",0);case 8:return c=e.sent,e.abrupt("return",c._response.status);case 10:case"end":return e.stop()}}),e)}))),dt.apply(this,arguments)}function vt(e,t,n,r){return mt.apply(this,arguments)}function mt(){return mt=Object(d["a"])(regeneratorRuntime.mark((function e(t,n,r,a){var o,i,c,u,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fe();case 3:return o=e.sent,i=ce["a"].fromServiceURL(o,t),c=ue["a"].fromContainerURL(i,n),u=ge["a"].fromBlobURL(c),e.next=9,u.upload(se["a"].none,r,r.size,{blobHTTPHeaders:{blobContentType:r.type},progress:a});case 9:return s=e.sent,e.abrupt("return",s._response.status);case 13:return e.prev=13,e.t0=e["catch"](0),Oe("error: "+JSON.stringify(e.t0)),e.abrupt("return",500);case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),mt.apply(this,arguments)}function bt(e,t,n){return gt.apply(this,arguments)}function gt(){return gt=Object(d["a"])(regeneratorRuntime.mark((function e(t,n,r){var a,o,i,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fe();case 3:return a=e.sent,o=ce["a"].fromServiceURL(a,t),i=ue["a"].fromContainerURL(o,r),c=ue["a"].fromContainerURL(o,n),e.next=9,i.startCopyFromURL(se["a"].none,c.url);case 9:return u=e.sent,e.abrupt("return",u._response.status);case 13:return e.prev=13,e.t0=e["catch"](0),e.abrupt("return",500);case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),gt.apply(this,arguments)}function yt(e,t){return wt.apply(this,arguments)}function wt(){return wt=Object(d["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Fe();case 3:return r=e.sent,a=ce["a"].fromServiceURL(r,t),o=ue["a"].fromContainerURL(a,n),e.next=8,o.delete(se["a"].none);case 8:return i=e.sent,e.abrupt("return",i._response.status);case 12:return e.prev=12,e.t0=e["catch"](0),e.abrupt("return",500);case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),wt.apply(this,arguments)}var Ot={getContainers:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.prev=1,e.next=4,it();case 4:return r=e.sent,n("containersLoaded",r),e.abrupt("return",200);case 9:return e.prev=9,e.t0=e["catch"](1),e.abrupt("return",500);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));function t(t){return e.apply(this,arguments)}return t}(),getBlobsByContainer:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t,n){var r,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.prev=1,e.t0=n,e.next=5,pt(n);case 5:return e.t1=e.sent,a={containerName:e.t0,blobs:e.t1},r("blobsByContainerLoaded",a),e.abrupt("return",200);case 11:return e.prev=11,e.t2=e["catch"](1),e.abrupt("return",500);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));function t(t,n){return e.apply(this,arguments)}return t}(),createFolder:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ht(n.containerName,n.folderName);case 3:return e.abrupt("return",200);case 6:return e.prev=6,e.t0=e["catch"](0),e.abrupt("return",500);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));function t(t,n){return e.apply(this,arguments)}return t}(),uploadFile:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vt(n.containerName,n.fileName,n.file,n.cb);case 3:return r=e.sent,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e["catch"](0),e.abrupt("return",500);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));function t(t,n){return e.apply(this,arguments)}return t}(),renameFile:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,bt(n.containerName,n.oldName,n.newName);case 3:return e.next=5,yt(n.containerName,n.oldName);case 5:return e.abrupt("return",200);case 8:return e.prev=8,e.t0=e["catch"](0),e.abrupt("return",500);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));function t(t,n){return e.apply(this,arguments)}return t}(),deleteFile:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,yt(n.containerName,n.name);case 3:return e.abrupt("return",200);case 6:return e.prev=6,e.t0=e["catch"](0),e.abrupt("return",500);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));function t(t,n){return e.apply(this,arguments)}return t}(),setActiveBlob:function(e,t){var n=e.commit;t&&n("activeBlobSet",t)}},jt=(n("456d"),n("11c1")),xt=n.n(jt);function kt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.reduce((function(e,n){if(-1!==n.indexOf("/")){var r=n.split("/"),a=r[0];e.find((function(e){return e.name===a}))?e.find((function(e){return e.name===a})).children.push(r.slice(1).join("/")):e.push({id:xt.a.v4(),name:a,fullPath:t.length>0?t+"/"+a:a,children:[r.slice(1).join("/")]})}else-1!==n.indexOf(".")&&e.push({id:xt.a.v4(),name:n,fullPath:t.length>0?t+"/"+n:n});return e}),[]);for(var r in n)if(n.hasOwnProperty(r)){var a=n[r];Object.keys(a).includes("children")&&(a.children=kt(a.children,a.fullPath))}return n}var Rt={containersLoaded:function(e,t){e.containers=t},blobsByContainerLoaded:function(e,t){e.blobsByContainer=t,t.blobs.length<1&&(e.blobsByContainerTree={});var n=t.blobs.map((function(e){return e.name})),r=kt(n);e.blobsByContainerTree={name:t.containerName,fullPath:"",children:r}},activeBlobSet:function(e,t){if(e.activeBlob&&e.activeBlob.name===t)e.activeBlob=null;else{var n=e.blobsByContainer.blobs.find((function(e){return e.name===t}));n&&(e.activeBlob=n)}}},Ct=!0,Ft={containers:[],blobsByContainer:{containerName:"",blobs:[]},blobsByContainerTree:{},activeBlob:null},Bt={namespaced:Ct,state:Ft,getters:nt,actions:Ot,mutations:Rt};r["default"].use(tt["a"]);var Nt={state:{version:"1.0.0"},modules:{homeStorage:Bt}},_t=new tt["a"].Store(Nt),St=_t;r["default"].config.productionTip=!1,new r["default"]({store:St,render:function(e){return e(et)}}).$mount("#app")},e0c2:function(e,t,n){"use strict";var r=n("19ec"),a=n.n(r);a.a},e224:function(e,t,n){}});
//# sourceMappingURL=app.23079e7c.js.map
{"remainingRequest":"/home/git/homestorage/homeweb/node_modules/babel-loader/lib/index.js!/home/git/homestorage/homeweb/node_modules/ts-loader/index.js??ref--13-2!/home/git/homestorage/homeweb/src/azure/deleteBlob.ts","dependencies":[{"path":"/home/git/homestorage/homeweb/src/azure/deleteBlob.ts","mtime":1586434586906},{"path":"/home/git/homestorage/homeweb/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/git/homestorage/homeweb/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/git/homestorage/homeweb/node_modules/ts-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/git/homestorage/homeweb/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport { ContainerURL, BlobURL, Aborter } from \"@azure/storage-blob\";\nimport getServiceUrl from \"./serviceUrl\";\nexport default function deleteBlob(_x, _x2) {\n  return _deleteBlob.apply(this, arguments);\n}\n\nfunction _deleteBlob() {\n  _deleteBlob = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(containerName, name) {\n    var serviceURL, containerURL, blobURL, copyBlockBlobResponse;\n    return regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return getServiceUrl();\n\n          case 3:\n            serviceURL = _context.sent;\n            containerURL = ContainerURL.fromServiceURL(serviceURL, containerName);\n            blobURL = BlobURL.fromContainerURL(containerURL, name);\n            _context.next = 8;\n            return blobURL.delete(Aborter.none);\n\n          case 8:\n            copyBlockBlobResponse = _context.sent;\n            return _context.abrupt(\"return\", copyBlockBlobResponse._response.status);\n\n          case 12:\n            _context.prev = 12;\n            _context.t0 = _context[\"catch\"](0);\n            return _context.abrupt(\"return\", 500);\n\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 12]]);\n  }));\n  return _deleteBlob.apply(this, arguments);\n}",{"version":3,"sources":["/home/git/homestorage/homeweb/src/azure/deleteBlob.ts"],"names":[],"mappings":";;AAAA,SAAqB,YAArB,EAAmC,OAAnC,EAA4C,OAA5C,QAA2D,qBAA3D;AACA,OAAO,aAAP;AAEA,wBAA8B,UAA9B;AAAA;AAAA;;;wEAAe,iBAA0B,aAA1B,EAAiD,IAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAE8B,aAAa,EAF3C;;AAAA;AAED,YAAA,UAFC;AAGD,YAAA,YAHC,GAGc,YAAY,CAAC,cAAb,CAA4B,UAA5B,EAAwC,aAAxC,CAHd;AAID,YAAA,OAJC,GAIS,OAAO,CAAC,gBAAR,CAAyB,YAAzB,EAAuC,IAAvC,CAJT;AAAA;AAAA,mBAK6B,OAAO,CAAC,MAAR,CAAe,OAAO,CAAC,IAAvB,CAL7B;;AAAA;AAKD,YAAA,qBALC;AAAA,6CAMA,qBAAqB,CAAC,SAAtB,CAAgC,MANhC;;AAAA;AAAA;AAAA;AAAA,6CAQA,GARA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import { ServiceURL, ContainerURL, BlobURL, Aborter } from \"@azure/storage-blob\";\r\nimport getServiceUrl from \"./serviceUrl\";\r\n\r\nexport default async function deleteBlob(containerName: string, name: string): Promise<number> {\r\n    try {\r\n        const serviceURL: ServiceURL = await getServiceUrl();\r\n        const containerURL = ContainerURL.fromServiceURL(serviceURL, containerName);\r\n        const blobURL = BlobURL.fromContainerURL(containerURL, name);\r\n        const copyBlockBlobResponse = await blobURL.delete(Aborter.none);\r\n        return copyBlockBlobResponse._response.status;\r\n    } catch (error) {\r\n        return 500;\r\n    }\r\n}\r\n"],"sourceRoot":""}]}
{"remainingRequest":"/home/git/homestorage/homeweb/node_modules/babel-loader/lib/index.js!/home/git/homestorage/homeweb/node_modules/ts-loader/index.js??ref--13-2!/home/git/homestorage/homeweb/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/git/homestorage/homeweb/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/git/homestorage/homeweb/src/homestorage/homeStorage.vue?vue&type=script&lang=ts&","dependencies":[{"path":"/home/git/homestorage/homeweb/src/homestorage/homeStorage.vue","mtime":1586434586906},{"path":"/home/git/homestorage/homeweb/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/git/homestorage/homeweb/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/git/homestorage/homeweb/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/home/git/homestorage/homeweb/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/git/homestorage/homeweb/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.reflect.construct\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/git/homestorage/homeweb/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/git/homestorage/homeweb/node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/git/homestorage/homeweb/node_modules/@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _inherits from \"/home/git/homestorage/homeweb/node_modules/@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/git/homestorage/homeweb/node_modules/@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/git/homestorage/homeweb/node_modules/@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { __decorate } from \"tslib\";\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { Action, Getter } from \"vuex-class\";\n/* components */\n\nimport TreeItem from \"./components/treeItem.vue\";\nimport UploadFilesProgress from \"./components/uploadFilesProgress.vue\";\nimport PreviewWrapper from \"./components/previewWrapper.vue\";\nimport Modal from \"@/generic/modal.vue\";\n/* utils */\n\nimport { name as _name } from \"./utils/arrUtils\";\n/* events */\n\nimport { EventBus, Event } from \"@/homestorage/eventBus.ts\";\n/* auth */\n\nimport { user } from \"../auth/user\";\nvar namespace = \"homeStorage\";\n\nvar HomeStorage = /*#__PURE__*/function (_Vue) {\n  _inherits(HomeStorage, _Vue);\n\n  var _super = _createSuper(HomeStorage);\n\n  function HomeStorage() {\n    var _this;\n\n    _classCallCheck(this, HomeStorage);\n\n    _this = _super.apply(this, arguments);\n    _this.toggle = false;\n    return _this;\n  }\n\n  _createClass(HomeStorage, [{\n    key: \"mounted\",\n    value: function mounted() {\n      if (user.isLoggedIn()) {\n        this.loginSuccess();\n      } else {\n        this.toggle = true;\n      }\n    }\n  }, {\n    key: \"login\",\n    value: function () {\n      var _login = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                user.loginPopup(this.loginSuccess);\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function login() {\n        return _login.apply(this, arguments);\n      }\n\n      return login;\n    }()\n  }, {\n    key: \"logout\",\n    value: function () {\n      var _logout = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                user.logout();\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function logout() {\n        return _logout.apply(this, arguments);\n      }\n\n      return logout;\n    }()\n  }, {\n    key: \"isLoggedIn\",\n    value: function isLoggedIn() {\n      return user.isLoggedIn();\n    }\n  }, {\n    key: \"loginSuccess\",\n    value: function () {\n      var _loginSuccess = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                this.toggle = false;\n                _context3.next = 3;\n                return this.getContainers();\n\n              case 3:\n                _context3.next = 5;\n                return this.getBlobsByContainer(\"homestorage\");\n\n              case 5:\n                EventBus.$on(Event.NEWFILES, this.openUploadFilesProgress);\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function loginSuccess() {\n        return _loginSuccess.apply(this, arguments);\n      }\n\n      return loginSuccess;\n    }()\n  }, {\n    key: \"openUploadFilesProgress\",\n    value: function () {\n      var _openUploadFilesProgress = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(newFiles) {\n        var ufp;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                ufp = this.$refs.ufp;\n                _context4.next = 3;\n                return ufp.openAndShowProgress(newFiles.fileList, newFiles.folderPath);\n\n              case 3:\n                _context4.next = 5;\n                return this.getBlobsByContainer(\"homestorage\");\n\n              case 5:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function openUploadFilesProgress(_x) {\n        return _openUploadFilesProgress.apply(this, arguments);\n      }\n\n      return openUploadFilesProgress;\n    }()\n  }, {\n    key: \"name\",\n    value: function name(str) {\n      return _name(str);\n    }\n  }]);\n\n  return HomeStorage;\n}(Vue);\n\n__decorate([Action(\"getContainers\", {\n  namespace: namespace\n})], HomeStorage.prototype, \"getContainers\", void 0);\n\n__decorate([Action(\"getBlobsByContainer\", {\n  namespace: namespace\n})], HomeStorage.prototype, \"getBlobsByContainer\", void 0);\n\n__decorate([Getter(\"containers\", {\n  namespace: namespace\n})], HomeStorage.prototype, \"containers\", void 0);\n\n__decorate([Getter(\"blobsByContainerTree\", {\n  namespace: namespace\n})], HomeStorage.prototype, \"tree\", void 0);\n\n__decorate([Getter(\"blobByName\", {\n  namespace: namespace\n})], HomeStorage.prototype, \"blobByName\", void 0);\n\nHomeStorage = __decorate([Component({\n  components: {\n    \"tree-item\": TreeItem,\n    \"upload-files-progress\": UploadFilesProgress,\n    \"preview-wrapper\": PreviewWrapper,\n    \"modal\": Modal\n  }\n})], HomeStorage);\nexport default HomeStorage;",{"version":3,"sources":["/home/git/homestorage/homeweb/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/git/homestorage/homeweb/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/git/homestorage/homeweb/src/homestorage/homeStorage.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\nimport { Component, Watch } from \"vue-property-decorator\";\r\nimport { Action, Getter } from \"vuex-class\";\r\n\r\n/* components */\r\nimport TreeItem from \"./components/treeItem.vue\";\r\nimport UploadFilesProgress from \"./components/uploadFilesProgress.vue\";\r\nimport PreviewWrapper from \"./components/previewWrapper.vue\";\r\nimport Modal from \"@/generic/modal.vue\";\r\n\r\n/* azure storage */\r\nimport { ContainerItem, BlobItem } from \"@azure/storage-blob/typings/src/generated/src/models\";\r\nimport { IBlobsByContainer } from \"@/homestorage/module/homeStorageState\";\r\n\r\n/* utils */\r\nimport { name } from \"./utils/arrUtils\";\r\n\r\n/* events */\r\nimport { EventBus, Event, IEventNewFiles } from \"@/homestorage/eventBus.ts\";\r\n\r\n/* auth */\r\nimport { user } from \"../auth/user\";\r\n\r\nconst namespace = \"homeStorage\";\r\n\r\n@Component({\r\n  components: {\r\n    \"tree-item\": TreeItem,\r\n    \"upload-files-progress\": UploadFilesProgress,\r\n    \"preview-wrapper\": PreviewWrapper,\r\n    \"modal\": Modal,\r\n  },\r\n})\r\nexport default class HomeStorage extends Vue {\r\n  @Action(\"getContainers\", { namespace })\r\n  public getContainers: any;\r\n\r\n  @Action(\"getBlobsByContainer\", { namespace })\r\n  public getBlobsByContainer: any;\r\n\r\n  @Getter(\"containers\", { namespace })\r\n  public containers!: ContainerItem[];\r\n\r\n  @Getter(\"blobsByContainerTree\", { namespace })\r\n  public tree!: any;\r\n\r\n  @Getter(\"blobByName\", { namespace })\r\n  public blobByName!: any;\r\n\r\n  public toggle: boolean = false;\r\n\r\n  public mounted() {\r\n    if (user.isLoggedIn()) {\r\n      this.loginSuccess();\r\n    } else {\r\n      this.toggle = true;\r\n    }\r\n  }\r\n\r\n  public async login() {\r\n    user.loginPopup(this.loginSuccess);\r\n  }\r\n\r\n  public async logout() {\r\n    user.logout();\r\n  }\r\n\r\n  public isLoggedIn(): boolean {\r\n    return user.isLoggedIn();\r\n  }\r\n\r\n  public async loginSuccess() {\r\n    this.toggle = false;\r\n    await this.getContainers();\r\n    await this.getBlobsByContainer(\"homestorage\");\r\n    EventBus.$on(Event.NEWFILES, this.openUploadFilesProgress);\r\n  }\r\n\r\n  public async openUploadFilesProgress(newFiles: IEventNewFiles) {\r\n    const ufp: UploadFilesProgress = this.$refs.ufp as UploadFilesProgress;\r\n    await ufp.openAndShowProgress(newFiles.fileList, newFiles.folderPath);\r\n    await this.getBlobsByContainer(\"homestorage\");\r\n  }\r\n\r\n  public name(str: string): string {\r\n    return name(str);\r\n  }\r\n}\r\n"],"sourceRoot":""}]}